name: mtcli
description: >
  Real MetaTrader 5 CLI used by the agent. This is the Node/TypeScript-based CLI
  in this repository, exposed via ./bin/mtcli (and mtcli.cmd on Windows).
  The agent uses this CLI to manage MT5 projects, run tests, attach indicators/EAs,
  and coordinate with mt_agent_pack and mt_agent_recipes.

status: active

paths:
  # Executáveis principais do CLI
  executable_unix: "./bin/mtcli"
  executable_windows: ".\\bin\\mtcli.cmd"
  node_entry: "./dist/cli.js"

  # Onde ficam os comandos compilados/TS
  dist_root: "./dist"
  src_root: "./src"

capabilities:
  # Capabilities de alto nível que o AGENTE enxerga
  - project_management
  - tester_control
  - chart_operations
  - dll_tools
  - editor_integration
  - quick_recipes   # via mt_agent_pack / mt_agent_recipes

introspection:
  # Como o agente "aprende" a CLI em tempo de execução
  global_help_command: "mtcli --help"
  command_help_template: "mtcli {command} --help"

  notes:
    - "Use 'mtcli --help' to discover top-level commands."
    - "Use 'mtcli {command} --help' (e.g. 'mtcli project --help') to learn subcommands and options."
    - "Prefer reading AGENTS.md, README.md and mt_agent_pack docs to understand higher-level flows."

commands:
  # Aqui são descrições sem engessar demais a sintaxe. O agente descobre os detalhes via --help.
  project:
    description: "Manage MT5 projects (create, list, open, etc.). Backed by src/commands/project.ts."
    help_command: "mtcli project --help"

  tester:
    description: "Control the MT5 Strategy Tester / test runs. Backed by src/commands/tester.ts."
    help_command: "mtcli tester --help"

  chart:
    description: "Operations related to charts (attach indicators/EAs, templates, etc.)."
    help_command: "mtcli chart --help"

  config:
    description: "Configuration commands (uses tools/mtcli_config.json, mtcli_projects.json, etc.)."
    help_command: "mtcli config --help"

  dll:
    description: "DLL-related utilities (src/commands/dll.ts)."
    help_command: "mtcli dll --help"

  editor:
    description: "Editor/IDE integration commands (src/commands/editor.ts)."
    help_command: "mtcli editor --help"

  utils:
    description: "Low-level utility commands (logs, paths, shell helpers)."
    help_command: "mtcli utils --help"

agent_guidelines:
  - "Treat mtcli as the primary, authoritative way to talk to MT5 from this repository."
  - "Use 'mtcli --help' first to discover commands instead of assuming syntax."
  - "O listener é controlado implicitamente por 'mtcli init/up'; não há mais subcomando 'mtcli listener'."
  - "Leverage project/tester/chart commands together with mt_agent_pack templates and recipes."
  - "When something fails, capture the exact mtcli stdout/stderr and adapt your strategy."
  - "Propose new subcommands or flags by editing src/commands/*.ts and updating documentation."
